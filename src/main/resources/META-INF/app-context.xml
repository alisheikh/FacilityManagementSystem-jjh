<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd">

    <description>Wiring the dependencies for the Online book Store Application.</description>

    <context:component-scan base-package="Main.Application" />

    <!--Entities -->

    <bean id="UnitUser" class="Main.Entities.usage.UnitUserImpl" scope="prototype"/>

    <bean id="UnitUsage" class="Main.Entities.usage.UnitUsageImpl" scope="prototype">
        <property name="unit" ref="Unit"></property>
        <property name="unitUser" ref="UnitUser" ></property>
    </bean>

    <bean id="Unit" class="Main.Entities.Facility.UnitImpl" scope="prototype">
    </bean>

    <bean id="Facility" class="Main.Entities.Facility.FacilityImpl" scope="prototype">
        <property name="units">
            <list>
                <ref bean="Unit"/>
            </list>
        </property>
    </bean>

    <bean id="MaintenanceStaff" class="Main.Entities.maintenance.MaintenanceStaffImpl" scope="prototype"/>
    


    <bean id="Inspection" class="Main.Entities.maintenance.InspectionImpl" scope="prototype">
       <property name="facility" ref="Facility"></property>
       <property name="inspectingStaff" ref="MaintenanceStaff"></property>
    </bean>

    <bean id="MaintenanceRequest" class="Main.Entities.maintenance.MaintenanceRequestImpl" scope="prototype">
        <property name="unit" ref="Unit"></property>
        <property name="staffMemberAssigned" ref="MaintenanceStaffImpl"></property>
    </bean>
    

    <!--DAO object Dependencies-->

    <bean id="DatabaseConnector" class="Main.DAL.DatabaseConnector"></bean>

    <bean id="UnitDAO" class="Main.DAL.UnitDAO">
        <property name="connector" ref="DatabaseConnector"></property>
    </bean>


    <bean id="UserDAO" class="Main.DAL.UserDAO">
        <property name="connector" ref="DatabaseConnector"></property>
    </bean>


    <bean id="UsageDAO" class="Main.DAL.UsageDAO">
        <property name="connector" ref="DatabaseConnector"></property>
        <property name="unitDAO" ref="UnitDAO"></property>
        <property name="userDAO" ref="UserDAO"></property>
    </bean>


    <bean id="FacilityDAO" class="Main.DAL.FacilityDAO">
        <property name="connector" ref="DatabaseConnector"></property>
        <property name="unitDAO" ref="UnitDAO"></property>
    </bean>

    <bean id="MaintenanceStaffDAO" class="Main.DAL.MaintenanceStaffDAO">
        <property name="connector" ref="DatabaseConnector"></property>
    </bean>

    <bean id="MaintenanceRequestDAO" class="Main.DAL.MaintenanceRequestDAO">
        <property name="connector" ref="DatabaseConnector"></property>
        <property name="maintenanceStaffDAO" ref="MaintenanceStaffDAO"></property>
        <property name="facilityDAO" ref="FacilityDAO"></property>
    </bean>

    <bean id="InspectionDAO" class="Main.DAL.InspectionDAO">
        <property name="connector" ref="DatabaseConnector"></property>
        <property name="maintenanceStaffDAO" ref="MaintenanceStaffDAO"></property>
        <property name="facilityDAO" ref="FacilityDAO"></property>
    </bean>















</beans>
